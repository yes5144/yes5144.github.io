(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{379:function(s,n,a){"use strict";a.r(n);var t=a(42),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"每天5分钟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#每天5分钟"}},[s._v("#")]),s._v(" 每天5分钟")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## pod是容器的集合，通常会将紧密相关的一组容器放到一个Pod中，同一个Pod中的所有容器共享IP地址和Port空间，也就是说它们在一个network namespace中。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Pod是kubernetes调度的最小单位，同一Pod中的容器始终被一起调度。")]),s._v("\n\nkubectl get nodes\nkubectl cluster-info\n\nkubectl run kubernetes-bootcamp --image"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/jocatalin/kubernetes-bootcamp:v1  --port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\nkubectl get pods\nkubectl get pod  --all-namespaces\nkubectl describe pod "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Pod Name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" --namespaces"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kube-system\n\nkubectl expose deployment/kubernetes-bootcamp --type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NodePort"')]),s._v("  --port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\nkubectl get services\nkubectl get deployments\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 弹性伸缩 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### scale up 3个副本")]),s._v("\nkubectl scale deployment/kubernetes-bootcamp  --replicas"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\nkubectl get deployments\nkubectl get pods\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### scale down")]),s._v("\nkubectl scale deployment/kubernetes-bootcamp  --replicas"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\nkubectl get deployments\nkubectl get pods\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 滚动更新")]),s._v("\nkubectl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" image deployment/kubernetes-bootcamp  kubernetes-bootcamp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jocatalin/kubernetes-bootcamp:v2\n\nkubectl get pods\nkubectl get pods\nkubectl get pods\nkubectl get pod -o wide\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 版本回退")]),s._v("\nkubectl rollout undo deployment/kubernetes-bootcamp\n\nkubectl get pods\n\n\nCluster\nMaster\nNode\nPod\n\nController\nService\nNamespace\n\nMaster 是Kubernetes Cluster的大脑，\n运行着的 Deamon服务包括 kube-apiserver, kube-scheduler, kube-controller-manager, etcd, Pod网络（例如Flannel）\n\nNode 是Pod运行的地方，Kubernets支持Docker，rkt等容器\n运行 kubelet, kube-proxy和Pod网络（如flannel）\n\n\n\nkubectl run httpd-app --image"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("httpd --replicas"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nkubectl get deployment\nkubectl get pod -o wide\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 然后kubernetes 部署了 deployment httpd-app, 有两个副本的Pod，分别在k8s-node1和k8s-node2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 详细讨论整个部署过程，")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", kubectl 发送部署请求到API Server\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", API Server 通知 Controller Manager 创建一个deployment资源\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(", Scheduler 执行调度任务，将两个副本Pod分发到 k8s-node1和k8s-node2\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(", k8s-node1和k8s-node2 的kubectl 在各自的节点上创建并运行Pod\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 命令 vs 配置文件")]),s._v("\nkubectl run nginx-deployment --image"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx:1.7.9 --replicas"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" nginx.yml\n\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  replicas: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  template:\n    metadata:\n\tlabels:\n\t  app: web_server\n  spec:\n    containers:\n\t- name: nginx\n\t  image: nginx:1.7.9\n\t  \nkubectl apply -f nginx.yml\n\nkubectl create/replace/edit/patch\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Failover")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 模拟故障k8s-node2，直接关机node2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 等一段时间，k8s 检查到 node2不可用，将node2标记为 Unknown，并在node1上创建两个Pod，维持总副本数为3，")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 当node2 恢复后，Unknown的Pod会被删除，不过已经运行的Pod不会重新调度会 node2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 删除 nginx-deployment")]),s._v("\nkubectl delete deployment nginx-deployment\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 为Node添加label")]),s._v("\nkubectl label node node k8s-node1 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("disktype")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ssd\n\nkubectl get node --show-labels\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 删除label disktype")]),s._v("\nkubectl label node k8s-node1 disktype-\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## DaemonSet")]),s._v("\nDeployment 部署的副本Pod会分布在各个node，每个node都可能运行几个副本\nDaemonSet 的不同之处：每个node最多只能运行一个副本\n\nDaemonSet 的典型应用场景：\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", 在集群的每个节点上运行存储 Daemon，比如 glusterd 或 ceph\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", 在每个节点上运行日志收集 Daemon，比如 flunented 或 logstash\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("，在每个节点上运行监控 Daemon，比如 Prometheus Node Exporter 或 collectd\n\nkubectl get daemonset --namespaces"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kube-system\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml\n\nkubectl edit daemonset kube-proxy --namespaces"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kube-system\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 部署自己的 DaemonSet--Prometheus- Node Exporter")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" node_exporter.yml\n\napiVersion: extensions/v1beta1\nkind: DaemonSet\nmetadata:\n  name: node-exporter-daemonset\nspec:\n  template:\n    metadata:\n\t  labels:\n\t    app: prometheus\n\tspec:\n\t  hostNetwork: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n\t  containers:\n\t  - name: node-exporter\n\t    image: prom/node-exporter\n\t\timagePullPolicy: IfNotPresent\n\t\tcommand:\n\t\t- /bin/node_exporter\n\t\t- --path.procfs\n\t\t- /host/proc\n\t\t- --path.sysfs\n\t\t- /host/sys\n\t\t- --collector.filesystem.ignored-mount-points\n\t\t- ^/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("proc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("dev"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\tvolumMounts:\n\t\t- name: proc\n\t\t  mountPath: /host/proc\n\t\t- name: sys\n\t\t  mountPath: /host/sys\n\t\t- name: root\n\t\t  mountPath: /rootfs\n\t  volumes:\n\t  - name: proc\n\t    hostPath:\n\t\t  path: /proc\n\t  - name: sys\n\t    hostPath:\n\t\t  path: /sys\n\t  - name: root\n\t    hostPath:\n\t\t  path: /\n\nkubectl apply -f node_exporter.yml\n\nkubectl get pod -o wide\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Job")]),s._v("\n容器安装持续运行的时间可以分为两类：服务类容器和 工作类容器\n\nk8s 的 Deployment、ReplicaSet、DaemonSet 都用于管理服务类容器；\n对于工作类容器，我们使用job\n\n下面是简单的Job 配置文件 myjob.yml \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" myjob.yml\n\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: myjob\nspec:\n  template:\n    metadata:\n\t  name: myjob\n\tspec:\n\t  containers:\n\t  - name: hello\n\t    image: busybox\n\t\tcommand: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello k8s job"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t  restartPolicy: Never\n\nkubectl apply -f myjob.yml\nkubectl get job\nkubectl get pod\n\nkubectl get pod --show-all\n\nkubectl logs myjob-xxx\n\nkubectl delete -f myjob.yml\n\nkubectl get namespace\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## kube-public 部署Service Httpd2-svc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" httpd2.yml\n\napiVersion: apps/v1beta1\nkind: Deployment\nmetadata:\n  name: httpd2\n  namespace: kube-public\nspec:\n  replicas: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  template:\n    metadata:\n\t  label:\n\t    run: httpd2\n\tspec: \n\t  containers:\n\t  - name: httpd2\n\t    image: httpd\n\t\tports:\n\t\t- containerPort: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n\t\t\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: httpd2-svc\n  namespace: kube-public\nspec:\n  selector:\n    run: httpd2\n  ports:\n  - protocol: TCP\n    port: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\ttargetPort: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n\nkubectl apply -f httpd2.yml\nkubectl get "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" --namespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kube-public\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 外网如何访问service")]),s._v("\n\nClusterIP\nNodePort\nLoadBalancer\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Rolling Update")]),s._v("\n\nkubectl apply -f httpd.v1.yml  --record\nkubectl apply -f httpd.v2.yml  --record\nkubectl apply -f httpd.v3.yml  --record\n\nkubectl rollout "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" deployment httpd\n\nkubectl rollout undo deployment httpd --to-revision"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\nkubectl get deployment httpd -o wide\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 数据管理")]),s._v("\nk8s volume支持多种backend 类型，包括 emptyDir, hostPath, GCE Persistent Disk, AWS Elastic Block Store, NFS, Ceph等\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br"),a("span",{staticClass:"line-number"},[s._v("179")]),a("br"),a("span",{staticClass:"line-number"},[s._v("180")]),a("br"),a("span",{staticClass:"line-number"},[s._v("181")]),a("br"),a("span",{staticClass:"line-number"},[s._v("182")]),a("br"),a("span",{staticClass:"line-number"},[s._v("183")]),a("br"),a("span",{staticClass:"line-number"},[s._v("184")]),a("br"),a("span",{staticClass:"line-number"},[s._v("185")]),a("br"),a("span",{staticClass:"line-number"},[s._v("186")]),a("br"),a("span",{staticClass:"line-number"},[s._v("187")]),a("br"),a("span",{staticClass:"line-number"},[s._v("188")]),a("br"),a("span",{staticClass:"line-number"},[s._v("189")]),a("br"),a("span",{staticClass:"line-number"},[s._v("190")]),a("br"),a("span",{staticClass:"line-number"},[s._v("191")]),a("br"),a("span",{staticClass:"line-number"},[s._v("192")]),a("br"),a("span",{staticClass:"line-number"},[s._v("193")]),a("br"),a("span",{staticClass:"line-number"},[s._v("194")]),a("br"),a("span",{staticClass:"line-number"},[s._v("195")]),a("br"),a("span",{staticClass:"line-number"},[s._v("196")]),a("br"),a("span",{staticClass:"line-number"},[s._v("197")]),a("br"),a("span",{staticClass:"line-number"},[s._v("198")]),a("br"),a("span",{staticClass:"line-number"},[s._v("199")]),a("br"),a("span",{staticClass:"line-number"},[s._v("200")]),a("br"),a("span",{staticClass:"line-number"},[s._v("201")]),a("br"),a("span",{staticClass:"line-number"},[s._v("202")]),a("br"),a("span",{staticClass:"line-number"},[s._v("203")]),a("br"),a("span",{staticClass:"line-number"},[s._v("204")]),a("br"),a("span",{staticClass:"line-number"},[s._v("205")]),a("br"),a("span",{staticClass:"line-number"},[s._v("206")]),a("br"),a("span",{staticClass:"line-number"},[s._v("207")]),a("br"),a("span",{staticClass:"line-number"},[s._v("208")]),a("br"),a("span",{staticClass:"line-number"},[s._v("209")]),a("br"),a("span",{staticClass:"line-number"},[s._v("210")]),a("br"),a("span",{staticClass:"line-number"},[s._v("211")]),a("br"),a("span",{staticClass:"line-number"},[s._v("212")]),a("br"),a("span",{staticClass:"line-number"},[s._v("213")]),a("br"),a("span",{staticClass:"line-number"},[s._v("214")]),a("br"),a("span",{staticClass:"line-number"},[s._v("215")]),a("br"),a("span",{staticClass:"line-number"},[s._v("216")]),a("br"),a("span",{staticClass:"line-number"},[s._v("217")]),a("br"),a("span",{staticClass:"line-number"},[s._v("218")]),a("br"),a("span",{staticClass:"line-number"},[s._v("219")]),a("br"),a("span",{staticClass:"line-number"},[s._v("220")]),a("br"),a("span",{staticClass:"line-number"},[s._v("221")]),a("br"),a("span",{staticClass:"line-number"},[s._v("222")]),a("br"),a("span",{staticClass:"line-number"},[s._v("223")]),a("br"),a("span",{staticClass:"line-number"},[s._v("224")]),a("br"),a("span",{staticClass:"line-number"},[s._v("225")]),a("br"),a("span",{staticClass:"line-number"},[s._v("226")]),a("br"),a("span",{staticClass:"line-number"},[s._v("227")]),a("br"),a("span",{staticClass:"line-number"},[s._v("228")]),a("br"),a("span",{staticClass:"line-number"},[s._v("229")]),a("br"),a("span",{staticClass:"line-number"},[s._v("230")]),a("br"),a("span",{staticClass:"line-number"},[s._v("231")]),a("br"),a("span",{staticClass:"line-number"},[s._v("232")]),a("br"),a("span",{staticClass:"line-number"},[s._v("233")]),a("br"),a("span",{staticClass:"line-number"},[s._v("234")]),a("br"),a("span",{staticClass:"line-number"},[s._v("235")]),a("br"),a("span",{staticClass:"line-number"},[s._v("236")]),a("br"),a("span",{staticClass:"line-number"},[s._v("237")]),a("br"),a("span",{staticClass:"line-number"},[s._v("238")]),a("br"),a("span",{staticClass:"line-number"},[s._v("239")]),a("br"),a("span",{staticClass:"line-number"},[s._v("240")]),a("br"),a("span",{staticClass:"line-number"},[s._v("241")]),a("br"),a("span",{staticClass:"line-number"},[s._v("242")]),a("br"),a("span",{staticClass:"line-number"},[s._v("243")]),a("br"),a("span",{staticClass:"line-number"},[s._v("244")]),a("br"),a("span",{staticClass:"line-number"},[s._v("245")]),a("br"),a("span",{staticClass:"line-number"},[s._v("246")]),a("br"),a("span",{staticClass:"line-number"},[s._v("247")]),a("br"),a("span",{staticClass:"line-number"},[s._v("248")]),a("br"),a("span",{staticClass:"line-number"},[s._v("249")]),a("br"),a("span",{staticClass:"line-number"},[s._v("250")]),a("br"),a("span",{staticClass:"line-number"},[s._v("251")]),a("br"),a("span",{staticClass:"line-number"},[s._v("252")]),a("br"),a("span",{staticClass:"line-number"},[s._v("253")]),a("br"),a("span",{staticClass:"line-number"},[s._v("254")]),a("br"),a("span",{staticClass:"line-number"},[s._v("255")]),a("br"),a("span",{staticClass:"line-number"},[s._v("256")]),a("br"),a("span",{staticClass:"line-number"},[s._v("257")]),a("br"),a("span",{staticClass:"line-number"},[s._v("258")]),a("br"),a("span",{staticClass:"line-number"},[s._v("259")]),a("br"),a("span",{staticClass:"line-number"},[s._v("260")]),a("br"),a("span",{staticClass:"line-number"},[s._v("261")]),a("br"),a("span",{staticClass:"line-number"},[s._v("262")]),a("br"),a("span",{staticClass:"line-number"},[s._v("263")]),a("br"),a("span",{staticClass:"line-number"},[s._v("264")]),a("br"),a("span",{staticClass:"line-number"},[s._v("265")]),a("br"),a("span",{staticClass:"line-number"},[s._v("266")]),a("br"),a("span",{staticClass:"line-number"},[s._v("267")]),a("br"),a("span",{staticClass:"line-number"},[s._v("268")]),a("br"),a("span",{staticClass:"line-number"},[s._v("269")]),a("br"),a("span",{staticClass:"line-number"},[s._v("270")]),a("br"),a("span",{staticClass:"line-number"},[s._v("271")]),a("br"),a("span",{staticClass:"line-number"},[s._v("272")]),a("br")])]),a("h3",{attrs:{id:"_1，docker的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1，docker的安装"}},[s._v("#")]),s._v(" 1，docker的安装")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 使用阿里云镜像加速安装下载docker-ce")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 参考链接：https://yq.aliyun.com/articles/110806")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# step 1: 安装必要的一些系统工具")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y yum-utils device-mapper-persistent-data lvm2\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 2: 添加软件源信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 3: 更新并安装 Docker-CE")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum makecache fast\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-ce\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 4: 开启Docker服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" docker start\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"_2，配置-docker-加速器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2，配置-docker-加速器"}},[s._v("#")]),s._v(" 2，配置 docker 加速器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 参考链接https://www.daocloud.io/mirror")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 该脚本可以将 --registry-mirror 加入到你的 Docker 配置文件 /etc/docker/daemon.json 中。适用于 Ubuntu14.04、Debian、CentOS6 、CentOS7、Fedora、Arch Linux、openSUSE Leap 42.1，其他版本可能有细微不同。更多详情请访问文档。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -sSL https://get.daocloud.io/daotools/set_mirror.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" -s http://f1361db2.m.daocloud.io\n\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_5，k8s基础命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5，k8s基础命令"}},[s._v("#")]),s._v(" 5，k8s基础命令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## https://kubernetes.io/docs/tutorials/")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ")]),s._v("\nkubectl  get  nodes\nkubectl  cluster-info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## deployment")]),s._v("\nkubectl  run kubernetes-bootcamp  --image"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/jocatalin/kubernetes-bootcamp:v1  --port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\nkubectl  get  nodes\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ")]),s._v("\nkubectl  expose  deployment/kubernets-bootcamp  --type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NodePort"')]),s._v("  --port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\nkubectl  get  services\n\nkubectl delete "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" -l "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kubernetes-bootcamp\nkubectl get services\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## scale")]),s._v("\nkubectl  get  deployments\nkubectl  scale  deployments/kubernetes-bootcamp  --replicas"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nkubectl  get  deployments\nkubectl  get  nodes\n\nkubectl  scale  deployments/kubernetes-bootcamp  --replicas"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nkubectl  get  deployments\nkubectl  get  nodes\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ")]),s._v("\nkubectl  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("  image  deployments/kubernetes-bootcamp  kubernetes-bootcamp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jocatalin/kubernetes-bootcamp:v2\n\nkubectl  rollout  undo  deployments/kubernetes-bootcamp\nkubectl  get  nodes\n\nkubectl  get  namespace\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h3",{attrs:{id:"kubectl-管理应用程序生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubectl-管理应用程序生命周期"}},[s._v("#")]),s._v(" kubectl 管理应用程序生命周期")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、创建\nkubectl run nginx --replicas"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" --image"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx:1.14 --port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nkubectl get deploy,pods\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、发布\nkubectl expose deployment nginx --port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("  --type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort  --target-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("  --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx-service\nkubectl  get "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、更新\nkubectl  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" image deployment/nginx  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nginx")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx:1.15\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、回滚\nkubectl rollout "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" deployment/nginx\nkubectl rollout undo deployment/nginx\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("、删除\nkubectl  delete deploy/nginx\nkubectl  delete svc/nginx-service\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"kubectl创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubectl创建"}},[s._v("#")]),s._v(" kubectl创建")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("\nkubectl create -f kubia-manual.yaml\n\nkubectl get po kubia-manual -o yaml\n\nkubectl get po kubia-manual -o json\n\nkubectl get pods\n\nkubectl logs kubia-manual\nkubectl logs kubia-manual -c kubia\n\nkubectl port-forward kubia-manual "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(":8080\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);